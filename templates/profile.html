{% extends 'base.html' %}

{% block content %}

    <div class="bg-light p-5 rounded-lg m-3">
        <h1 class="display-3">Hello {{ user.name }}</h1>
        <hr>
        <a href="{{ url_for('logout') }}"><button class="btn btn-primary">Log out</button></a>
    </div>

    <br>

    <div class="container">
        <h1>Donations Made</h1>
        <table class="table">
        
            <thead>
                <th>#</th>
                <th>Amount</th>
                <th>Charity</th>
            </thead>
        
            <tbody>
                {% for donation in donations %}
                    <tr>
                        <th scope="row">{{donation.index}}</th>    
                        <td>{{donation.amount}}</td>
                        <td><a href="charity/{{ donation.charity_id }}">{{donation.charity_name}}</a></td>
                    </tr>
                {% endfor %}
            </tbody>
        
        </table>
    </div>

    <br>

    <div id="log" class="p-3 m-5">
        <h3>Log Donation</h3>
        <form action="" method="post" class="">
    
            <div class="form-group p-2">
                <label for="chosen-charity">Charity</label>
                <select class="form-control" name="chosen-charity" id="chosen-charity">
                    {% for charity in charities %}
                        <option value="{{ charity._id }}">{{ charity.name }}</option>
                    {% endfor %}
                </select>
            </div>
    
            <div class="form-group p-2">
                <label for="money">Money</label>
                <input class="form-control" type="number" name="money" id="money">
            </div>
    
            <div class="form-group p-2">
                <input class="btn btn-primary" type="submit" value="Donate">
            </div>
    
        </form>
    </div>

{% endblock content %}